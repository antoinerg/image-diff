var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n){if(e){const r=s(e,t,n);return e[0](r)}}function s(e,n,r){return e[1]?t({},t(n.$$scope.ctx,e[1](r?r(n):{}))):n.$$scope.ctx}function l(e,n,r,o){return e[1]?t({},t(n.$$scope.changed||{},e[1](o?o(r):{}))):n.$$scope.changed||{}}function u(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function f(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function y(){return v(" ")}function w(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){t=""+t,e.data!==t&&(e.data=t)}function _(e,t,n){e.style.setProperty(t,n)}function x(e,t,n){e.classList[n?"add":"remove"](t)}let j;function O(e){j=e}function k(e){(function(){if(!j)throw new Error("Function called outside component initialization");return j})().$$.on_mount.push(e)}const A=[],D=[],C=[],E=[],L=Promise.resolve();let P=!1;function N(e){C.push(e)}function z(){const e=new Set;do{for(;A.length;){const e=A.shift();O(e),B(e.$$)}for(;D.length;)D.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];e.has(n)||(n(),e.add(n))}C.length=0}while(A.length);for(;E.length;)E.pop()();P=!1}function B(e){e.fragment&&(e.update(e.dirty),o(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(N))}const U=new Set;let M;function S(){M={r:0,c:[],p:M}}function I(){M.r||o(M.c),M=M.p}function R(e,t){e&&e.i&&(U.delete(e),e.i(t))}function F(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),M.c.push(()=>{U.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function H(e,t,r){const{fragment:a,on_mount:c,on_destroy:s,after_update:l}=e.$$;a.m(t,r),N(()=>{const t=c.map(n).filter(i);s?s.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(N)}function T(e,t){e.$$.fragment&&(o(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function W(e,t){e.$$.dirty||(A.push(e),P||(P=!0,L.then(z)),e.$$.dirty=r()),e.$$.dirty[t]=!0}function q(t,n,i,a,c,s){const l=j;O(t);const u=n.props||{},f=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:r(),dirty:null};let d=!1;var p;f.ctx=i?i(t,u,(e,n)=>{f.ctx&&c(f.ctx[e],f.ctx[e]=n)&&(f.bound[e]&&f.bound[e](n),d&&W(t,e))}):u,f.update(),d=!0,o(f.before_update),f.fragment=a(f.ctx),n.target&&(n.hydrate?f.fragment.l((p=n.target,Array.from(p.childNodes))):f.fragment.c(),n.intro&&R(t.$$.fragment),H(t,n.target,n.anchor),z()),O(l)}class V{$destroy(){T(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const Q=[];function Y(e,t){return{subscribe:G(e,t).subscribe}}function G(t,n=e){let r;const o=[];function i(e){if(a(t,e)&&(t=e,r)){const e=!Q.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),Q.push(n,t)}if(e){for(let e=0;e<Q.length;e+=2)Q[e][0](Q[e+1]);Q.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(a,c=e){const s=[a,c];return o.push(s),1===o.length&&(r=n(i)||e),a(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function J(t,n,r){const a=!Array.isArray(t),c=a?[t]:t,s=n.length<2;return Y(r,t=>{let r=!1;const l=[];let u=0,f=e;const d=()=>{if(u)return;f();const r=n(a?l[0]:l,t);s?t(r):f=i(r)?r:e},p=c.map((e,t)=>e.subscribe(e=>{l[t]=e,u&=~(1<<t),r&&d()},()=>{u|=1<<t}));return r=!0,d(),function(){o(p),f()}})}function K(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const X=Y(K(),function(e){const t=()=>{e(K())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),Z=(J(X,e=>e.location),J(X,e=>e.querystring));var ee=Object.prototype.hasOwnProperty,te=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),ne=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},re={arrayToObject:ne,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var s=a[c],l=i[s];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:i,prop:s}),n.push(l))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],o=0;o<t.length;++o)void 0!==t[o]&&r.push(t[o]);n.obj[n.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var o=t.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(r):o<128?n+=te[o]:o<2048?n+=te[192|o>>6]+te[128|63&o]:o<55296||o>=57344?n+=te[224|o>>12]+te[128|o>>6&63]+te[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n+=te[240|o>>18]+te[128|o>>12&63]+te[128|o>>6&63]+te[128|63&o])}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!ee.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=ne(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){ee.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],n,r):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,o){var i=n[o];return ee.call(t,o)?t[o]=e(t[o],i,r):t[o]=i,t},o)}},oe=String.prototype.replace,ie=/%20/g,ae={default:"RFC3986",formatters:{RFC1738:function(e){return oe.call(e,ie,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},ce={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},se=Date.prototype.toISOString,le={delimiter:"&",encode:!0,encoder:re.encode,encodeValuesOnly:!1,serializeDate:function(e){return se.call(e)},skipNulls:!1,strictNullHandling:!1},ue=function e(t,n,r,o,i,a,c,s,l,u,f,d){var p=t;if("function"==typeof c)p=c(n,p);else if(p instanceof Date)p=u(p);else if(null===p){if(o)return a&&!d?a(n,le.encoder):n;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||re.isBuffer(p))return a?[f(d?n:a(n,le.encoder))+"="+f(a(p,le.encoder))]:[f(n)+"="+f(String(p))];var h,g=[];if(void 0===p)return g;if(Array.isArray(c))h=c;else{var m=Object.keys(p);h=s?m.sort(s):m}for(var v=0;v<h.length;++v){var y=h[v];i&&null===p[y]||(g=Array.isArray(p)?g.concat(e(p[y],r(n,y),r,o,i,a,c,s,l,u,f,d)):g.concat(e(p[y],n+(l?"."+y:"["+y+"]"),r,o,i,a,c,s,l,u,f,d)))}return g},fe=Object.prototype.hasOwnProperty,de={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:re.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},pe=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(r),a=i?r.slice(0,i.index):r,c=[];if(a){if(!n.plainObjects&&fe.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var s=0;null!==(i=o.exec(r))&&s<n.depth;){if(s+=1,!n.plainObjects&&fe.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+r.slice(i.index)+"]"),function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a)i=(i=[]).concat(r);else{i=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[])[s]=r:i[c]=r}r=i}return r}(c,t,n)}},he={formats:ae,parse:function(e,t){var n=t?re.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||re.isRegExp(n.delimiter)?n.delimiter:de.delimiter,n.depth="number"==typeof n.depth?n.depth:de.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:de.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:de.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:de.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:de.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:de.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:de.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:de.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=0;a<i.length;++a){var c,s,l=i[a],u=l.indexOf("]="),f=-1===u?l.indexOf("="):u+1;-1===f?(c=t.decoder(l,de.decoder),s=t.strictNullHandling?null:""):(c=t.decoder(l.slice(0,f),de.decoder),s=t.decoder(l.slice(f+1),de.decoder)),fe.call(n,c)?n[c]=[].concat(n[c]).concat(s):n[c]=s}return n}(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var c=i[a],s=pe(c,r[c],n);o=re.merge(o,s,n)}return re.compact(o)},stringify:function(e,t){var n=e,r=t?re.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var o=void 0===r.delimiter?le.delimiter:r.delimiter,i="boolean"==typeof r.strictNullHandling?r.strictNullHandling:le.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:le.skipNulls,c="boolean"==typeof r.encode?r.encode:le.encode,s="function"==typeof r.encoder?r.encoder:le.encoder,l="function"==typeof r.sort?r.sort:null,u=void 0!==r.allowDots&&r.allowDots,f="function"==typeof r.serializeDate?r.serializeDate:le.serializeDate,d="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:le.encodeValuesOnly;if(void 0===r.format)r.format=ae.default;else if(!Object.prototype.hasOwnProperty.call(ae.formatters,r.format))throw new TypeError("Unknown format option provided.");var p,h,g=ae.formatters[r.format];"function"==typeof r.filter?n=(h=r.filter)("",n):Array.isArray(r.filter)&&(p=h=r.filter);var m,v=[];if("object"!=typeof n||null===n)return"";m=r.arrayFormat in ce?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var y=ce[m];p||(p=Object.keys(n)),l&&p.sort(l);for(var w=0;w<p.length;++w){var $=p[w];a&&null===n[$]||(v=v.concat(ue(n[$],$,y,i,a,c?s:null,h,l,u,f,g,d)))}var b=v.join(o),_=!0===r.addQueryPrefix?"?":"";return b.length>0?_+b:""}};const ge=()=>({}),me=()=>({}),ve=()=>({}),ye=()=>({});function we(e){var t,n,r,i,a,u,h,m,v,b,x,j,O,k,A;const D=e.$$slots.A,C=c(D,e,ye),E=e.$$slots.B,L=c(E,e,me);return{c(){t=g("div"),n=g("div"),r=g("div"),C&&C.c(),i=y(),a=g("div"),(u=g("div")).innerHTML='<svg class="handle__arrow handle__arrow--l feather feather-chevron-left svelte-6ehlfj" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6" class="svelte-6ehlfj"></polyline></svg> <svg class="handle__arrow handle__arrow--r feather feather-chevron-right svelte-6ehlfj" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6" class="svelte-6ehlfj"></polyline></svg>',h=y(),m=g("span"),v=y(),b=g("div"),x=g("div"),L&&L.c(),j=y(),O=g("input"),$(r,"class","compare__content svelte-6ehlfj"),_(r,"width",e.width),$(u,"class","handle svelte-6ehlfj"),$(m,"class","handle-line svelte-6ehlfj"),$(a,"class","handle-wrap svelte-6ehlfj"),_(a,"left","calc("+e.compareWidth+"% - var(--handle-line-width) / 2)"),$(x,"class","compare-overlay__content svelte-6ehlfj"),_(x,"width",e.width),$(b,"class","compare-overlay svelte-6ehlfj"),_(b,"width","calc("+e.compareWidth+"%)"),$(n,"class","compare svelte-6ehlfj"),$(O,"type","range"),$(O,"min","0"),$(O,"max","100"),$(O,"step",$e),$(O,"class","compare__range svelte-6ehlfj"),$(O,"tabindex","-1"),$(t,"class","compare-wrapper svelte-6ehlfj"),A=[w(O,"change",e.input_change_input_handler),w(O,"input",e.input_change_input_handler)]},l(e){C&&C.l(div0_nodes),L&&L.l(div3_nodes)},m(o,c){d(o,t,c),f(t,n),f(n,r),C&&C.m(r,null),f(n,i),f(n,a),f(a,u),f(a,h),f(a,m),f(n,v),f(n,b),f(b,x),L&&L.m(x,null),f(t,j),f(t,O),O.value=e.compareWidth,k=!0},p(e,t){C&&C.p&&e.$$scope&&C.p(l(D,t,e,ve),s(D,t,ye)),k&&!e.width||_(r,"width",t.width),k&&!e.compareWidth||_(a,"left","calc("+t.compareWidth+"% - var(--handle-line-width) / 2)"),L&&L.p&&e.$$scope&&L.p(l(E,t,e,ge),s(E,t,me)),k&&!e.width||_(x,"width",t.width),k&&!e.compareWidth||_(b,"width","calc("+t.compareWidth+"%)"),e.compareWidth&&(O.value=t.compareWidth)},i(e){k||(R(C,e),R(L,e),k=!0)},o(e){F(C,e),F(L,e),k=!1},d(e){e&&p(t),C&&C.d(e),L&&L.d(e),o(A)}}}let $e=.1;function be(e,t,n){let{width:r,value:o}=t,i=o,{$$slots:a={},$$scope:c}=t;return e.$set=(e=>{"width"in e&&n("width",r=e.width),"value"in e&&n("value",o=e.value),"$$scope"in e&&n("$$scope",c=e.$$scope)}),{width:r,value:o,compareWidth:i,input_change_input_handler:function(){var e;e=this.value,n("compareWidth",i=""===e?void 0:+e)},$$slots:a,$$scope:c}}class _e extends V{constructor(e){super(),q(this,e,be,we,a,["width","value"])}}function xe(t){var n,r,o;return{c(){n=m("svg"),$(r=m("circle"),"role","presentation"),$(r,"cx","16"),$(r,"cy","16"),$(r,"r",t.radius),$(r,"stroke",t.color),$(r,"fill","none"),$(r,"stroke-width",t.thickness),$(r,"stroke-dasharray",o=t.dash+",100"),$(r,"stroke-linecap","round"),$(n,"height",t.size),$(n,"width",t.size),_(n,"animation-duration",t.speed+"ms"),$(n,"class","svelte-spinner svelte-1bbsd2f"),$(n,"viewBox","0 0 32 32")},m(e,t){d(e,n,t),f(n,r)},p(e,t){e.radius&&$(r,"r",t.radius),e.color&&$(r,"stroke",t.color),e.thickness&&$(r,"stroke-width",t.thickness),e.dash&&o!==(o=t.dash+",100")&&$(r,"stroke-dasharray",o),e.size&&($(n,"height",t.size),$(n,"width",t.size)),e.speed&&_(n,"animation-duration",t.speed+"ms")},i:e,o:e,d(e){e&&p(n)}}}function je(e,t,n){let r,{size:o=25,speed:i=750,color:a="rgba(0,0,0,0.4)",thickness:c=2,gap:s=40,radius:l=10}=t;return e.$set=(e=>{"size"in e&&n("size",o=e.size),"speed"in e&&n("speed",i=e.speed),"color"in e&&n("color",a=e.color),"thickness"in e&&n("thickness",c=e.thickness),"gap"in e&&n("gap",s=e.gap),"radius"in e&&n("radius",l=e.radius)}),e.$$.update=((e={radius:1,gap:1})=>{(e.radius||e.gap)&&n("dash",r=2*Math.PI*l*(100-s)/100)}),{size:o,speed:i,color:a,thickness:c,gap:s,radius:l,dash:r}}class Oe extends V{constructor(e){super(),q(this,e,je,xe,a,["size","speed","color","thickness","gap","radius"])}}function ke(t){var n,r;return{c(){n=m("svg"),$(r=m("path"),"fill","currentColor"),$(r,"d",t.path),$(n,"aria-hidden","true"),$(n,"class",t.classes+" svelte-p8vizn"),$(n,"role","img"),$(n,"xmlns","http://www.w3.org/2000/svg"),$(n,"viewBox",t.viewBox)},m(e,t){d(e,n,t),f(n,r)},p(e,t){e.path&&$(r,"d",t.path),e.classes&&$(n,"class",t.classes+" svelte-p8vizn"),e.viewBox&&$(n,"viewBox",t.viewBox)},i:e,o:e,d(e){e&&p(n)}}}function Ae(e,n,r){let{icon:o}=n,i=[],a="",c="";return e.$set=(e=>{r("$$props",n=t(t({},n),e)),"icon"in e&&r("icon",o=e.icon)}),e.$$.update=((e={icon:1,$$props:1})=>{e.icon&&r("viewBox",c="0 0 "+o.icon[0]+" "+o.icon[1]),r("classes",a="fa-svelte "+(n.class?n.class:"")),e.icon&&r("path",i=o.icon[4])}),{icon:o,path:i,classes:a,viewBox:c,$$props:n=u(n)}}class De extends V{constructor(e){super(),q(this,e,Ae,ke,a,["icon"])}}var Ce={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},Ee={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},Le=function(e,t,n,r,o,i){if(!Ne(e)||!Ne(t)||n&&!Ne(n))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||n&&n.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==r*o*4)throw new Error("Image data size does not match width/height.");i=Object.assign({},Pe,i);const a=r*o,c=new Uint32Array(e.buffer,e.byteOffset,a),s=new Uint32Array(t.buffer,t.byteOffset,a);let l=!0;for(let e=0;e<a;e++)if(c[e]!==s[e]){l=!1;break}if(l){if(n)for(let t=0;t<a;t++)He(e,4*t,i.alpha,n);return 0}const u=35215*i.threshold*i.threshold;let f=0;const[d,p,h]=i.aaColor,[g,m,v]=i.diffColor;for(let a=0;a<o;a++)for(let c=0;c<r;c++){const s=4*(a*r+c),l=Ue(e,t,s,s);l>u?i.includeAA||!ze(e,c,a,r,o,t)&&!ze(t,c,a,r,o,e)?(n&&Fe(n,s,g,m,v),f++):n&&Fe(n,s,d,p,h):n&&He(e,s,i.alpha,n)}return f};const Pe={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0]};function Ne(e){return ArrayBuffer.isView(e)&&1===e.constructor.BYTES_PER_ELEMENT}function ze(e,t,n,r,o,i){const a=Math.max(t-1,0),c=Math.max(n-1,0),s=Math.min(t+1,r-1),l=Math.min(n+1,o-1),u=4*(n*r+t);let f,d,p,h,g=t===a||t===s||n===c||n===l?1:0,m=0,v=0;for(let o=a;o<=s;o++)for(let i=c;i<=l;i++){if(o===t&&i===n)continue;const a=Ue(e,e,u,4*(i*r+o),!0);if(0===a){if(++g>2)return!1}else a<m?(m=a,f=o,d=i):a>v&&(v=a,p=o,h=i)}return 0!==m&&0!==v&&(Be(e,f,d,r,o)&&Be(i,f,d,r,o)||Be(e,p,h,r,o)&&Be(i,p,h,r,o))}function Be(e,t,n,r,o){const i=Math.max(t-1,0),a=Math.max(n-1,0),c=Math.min(t+1,r-1),s=Math.min(n+1,o-1),l=4*(n*r+t);let u=t===i||t===c||n===a||n===s?1:0;for(let o=i;o<=c;o++)for(let i=a;i<=s;i++){if(o===t&&i===n)continue;const a=4*(i*r+o);if(e[l]===e[a]&&e[l+1]===e[a+1]&&e[l+2]===e[a+2]&&e[l+3]===e[a+3]&&u++,u>2)return!0}return!1}function Ue(e,t,n,r,o){let i=e[n+0],a=e[n+1],c=e[n+2],s=e[n+3],l=t[r+0],u=t[r+1],f=t[r+2],d=t[r+3];if(s===d&&i===l&&a===u&&c===f)return 0;s<255&&(i=Re(i,s/=255),a=Re(a,s),c=Re(c,s)),d<255&&(l=Re(l,d/=255),u=Re(u,d),f=Re(f,d));const p=Me(i,a,c)-Me(l,u,f);if(o)return p;const h=Se(i,a,c)-Se(l,u,f),g=Ie(i,a,c)-Ie(l,u,f);return.5053*p*p+.299*h*h+.1957*g*g}function Me(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function Se(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function Ie(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function Re(e,t){return 255+(e-255)*t}function Fe(e,t,n,r,o){e[t+0]=n,e[t+1]=r,e[t+2]=o,e[t+3]=255}function He(e,t,n,r){const o=Re(Me(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);Fe(r,t,o,o,o)}function Te(e,t,n){const r=Object.create(e);return r.component=t[n],r}function We(e,t,n){const r=Object.create(e);return r.image=t[n],r.each_value_1=t,r.i=n,r}function qe(e){var t,n=new De({props:{icon:Ce,class:"icon ok"}});return{c(){n.$$.fragment.c()},m(e,r){H(n,e,r),t=!0},p(e,t){var r={};e.faCheck&&(r.icon=Ce),n.$set(r)},i(e){t||(R(n.$$.fragment,e),t=!0)},o(e){F(n.$$.fragment,e),t=!1},d(e){T(n,e)}}}function Ve(e){var t,n=new De({props:{icon:Ee,class:"icon error"}});return{c(){n.$$.fragment.c()},m(e,r){H(n,e,r),t=!0},p(e,t){var r={};e.faTimes&&(r.icon=Ee),n.$set(r)},i(e){t||(R(n.$$.fragment,e),t=!0)},o(e){F(n.$$.fragment,e),t=!1},d(e){T(n,e)}}}function Qe(t){var n,r=new Oe({props:{speed:"1000",color:"black",thickness:"5",gap:"40"}});return{c(){r.$$.fragment.c()},m(e,t){H(r,e,t),n=!0},p:e,i(e){n||(R(r.$$.fragment,e),n=!0)},o(e){F(r.$$.fragment,e),n=!1},d(e){T(r,e)}}}function Ye(e){var t,n,r,i,a,c,s;function l(){e.input_input_handler.call(n,e)}var u=[Qe,Ve,qe],h=[];function m(e){return e.loading[e.i]?0:!e.loading[e.i]&&e.error[e.i]?1:e.loading[e.i]||e.error[e.i]?-1:2}return~(i=m(e))&&(a=h[i]=u[i](e)),{c(){t=g("div"),n=g("input"),r=y(),a&&a.c(),$(n,"class","svelte-blq9ch"),$(t,"class","imgSelector svelte-blq9ch"),s=[w(n,"input",l),w(n,"change",e.imgDiff)]},m(o,a){d(o,t,a),f(t,n),n.value=e.image,f(t,r),~i&&h[i].m(t,null),c=!0},p(r,o){e=o,r.imagesUrl&&n.value!==e.image&&(n.value=e.image);var c=i;(i=m(e))===c?~i&&h[i].p(r,e):(a&&(S(),F(h[c],1,1,()=>{h[c]=null}),I()),~i?((a=h[i])||(a=h[i]=u[i](e)).c(),R(a,1),a.m(t,null)):a=null)},i(e){c||(R(a),c=!0)},o(e){F(a),c=!1},d(e){e&&p(t),~i&&h[i].d(),o(s)}}}function Ge(e){var t,n,r,o,i,a=e.component;return{c(){t=g("label"),n=g("input"),r=y(),o=v(a),e.$$binding_groups[0].push(n),$(n,"type","checkbox"),n.__value=e.component,n.value=n.__value,$(n,"class","svelte-blq9ch"),i=w(n,"change",e.input_change_handler)},m(i,a){d(i,t,a),f(t,n),n.checked=~e.components.indexOf(n.__value),f(t,r),f(t,o)},p(e,t){e.components&&(n.checked=~t.components.indexOf(n.__value)),n.value=n.__value},d(r){r&&p(t),e.$$binding_groups[0].splice(e.$$binding_groups[0].indexOf(n),1),i()}}}function Je(t){var n,r;return{c(){n=g("h3"),r=v(t.msg)},m(e,t){d(e,n,t),f(n,r)},p:e,d(e){e&&p(n)}}}function Ke(t){var n;return{c(){$(n=g("canvas"),"slot","A")},m(e,r){d(e,n,r),t.canvas_binding_1(n)},p:e,d(e){e&&p(n),t.canvas_binding_1(null)}}}function Xe(t){var n;return{c(){$(n=g("canvas"),"slot","B")},m(e,r){d(e,n,r),t.canvas_binding_2(n)},p:e,d(e){e&&p(n),t.canvas_binding_2(null)}}}function Ze(t){var n;return{c(){n=y()},m(e,t){d(e,n,t)},p:e,d(e){e&&p(n)}}}function et(e){for(var t,n,r,o,i,a,c,s,l,u,m,w,_,j,O,k,A,D=e.imagesUrl,C=[],E=0;E<D.length;E+=1)C[E]=Ye(We(e,D,E));const L=e=>F(C[e],1,1,()=>{C[e]=null});var P=e.availableComponents,N=[];for(E=0;E<P.length;E+=1)N[E]=Ge(Te(e,P,E));var z=e.msg&&Je(e),B=new _e({props:{width:e.width[0],value:"50",$$slots:{default:[Ze],B:[Xe],A:[Ke]},$$scope:{ctx:e}}});return{c(){t=y(),(n=g("h1")).textContent="Diff images",r=y();for(var f=0;f<C.length;f+=1)C[f].c();o=y();for(f=0;f<N.length;f+=1)N[f].c();i=y(),a=g("div"),c=g("h2"),s=v(e.numDiffPixels),l=v(" different pixels (≈"),u=v(e.percentDifference),m=v("%)"),w=y(),z&&z.c(),_=y(),j=g("canvas"),O=y(),k=g("div"),B.$$.fragment.c(),document.title="Diff images",$(a,"class","svelte-blq9ch"),x(a,"hidden",-1===e.components.indexOf("Diff")),$(k,"class","svelte-blq9ch"),x(k,"hidden",-1===e.components.indexOf("Slider"))},m(p,h){d(p,t,h),d(p,n,h),d(p,r,h);for(var g=0;g<C.length;g+=1)C[g].m(p,h);d(p,o,h);for(g=0;g<N.length;g+=1)N[g].m(p,h);d(p,i,h),d(p,a,h),f(a,c),f(c,s),f(c,l),f(c,u),f(c,m),f(a,w),z&&z.m(a,null),f(a,_),f(a,j),e.canvas_binding(j),d(p,O,h),d(p,k,h),H(B,k,null),A=!0},p(e,t){if(e.loading||e.error||e.faTimes||e.faCheck||e.imagesUrl){D=t.imagesUrl;for(var n=0;n<D.length;n+=1){const r=We(t,D,n);C[n]?(C[n].p(e,r),R(C[n],1)):(C[n]=Ye(r),C[n].c(),R(C[n],1),C[n].m(o.parentNode,o))}for(S(),n=D.length;n<C.length;n+=1)L(n);I()}if(e.availableComponents||e.components){P=t.availableComponents;for(n=0;n<P.length;n+=1){const r=Te(t,P,n);N[n]?N[n].p(e,r):(N[n]=Ge(r),N[n].c(),N[n].m(i.parentNode,i))}for(;n<N.length;n+=1)N[n].d(1);N.length=P.length}A&&!e.numDiffPixels||b(s,t.numDiffPixels),A&&!e.percentDifference||b(u,t.percentDifference),t.msg?z?z.p(e,t):((z=Je(t)).c(),z.m(a,_)):z&&(z.d(1),z=null),e.components&&x(a,"hidden",-1===t.components.indexOf("Diff"));var r={};e.width&&(r.width=t.width[0]),(e.$$scope||e.canvases)&&(r.$$scope={changed:e,ctx:t}),B.$set(r),e.components&&x(k,"hidden",-1===t.components.indexOf("Slider"))},i(e){if(!A){for(var t=0;t<D.length;t+=1)R(C[t]);R(B.$$.fragment,e),A=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)F(C[e]);F(B.$$.fragment,e),A=!1},d(c){c&&(p(t),p(n),p(r)),h(C,c),c&&p(o),h(N,c),c&&(p(i),p(a)),z&&z.d(),e.canvas_binding(null),c&&(p(O),p(k)),T(B)}}}function tt(e,t,n){let r;!function(e,t,n){const r=t.subscribe(n);e.$$.on_destroy.push(r.unsubscribe?()=>r.unsubscribe():r)}(e,Z,e=>{n("$querystring",r=e)}),k(()=>{var e=he.parse(r);e.image0&&(c[0]=e.image0,n("imagesUrl",c)),e.image1&&(c[1]=e.image1,n("imagesUrl",c)),e.components&&n("components",g=e.components),v()});let o,i,a,{imagesUrl:c}=t,s=[],l=[],u=[],f=[],d=[],p=[],h=["Diff","Slider"],g=h;function m(e){return d[e]=!0,n("loading",d),p[e]=!1,n("error",p),new Promise((t,r)=>{const o=new Image;o.crossOrigin="anonymous",o.src=c[e],o.onload=(()=>{d[e]=!1,n("loading",d),t(o)}),o.onerror=(()=>{d[e]=!1,n("loading",d),p[e]=!0,n("error",p)})}).then(function(t){s[e]=t;var r=t.width,o=t.height;u[e]=r,n("width",u),f[e]=o;var i=l[e];i.width=r,i.height=o})}async function v(){!function(e){if(!e||e.length<1||"/"!=e.charAt(0))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash="#"+e},0)}("/?"+he.stringify({image0:c[0],image1:c[1],components:g})),await Promise.all([m(0),m(1)]);var e=Math.max(...u),t=Math.max(...f);l.forEach((n,r)=>{n.width=e,n.height=t;var o=n.getContext("2d");o.drawImage(s[r],0,0),s[r]=o.getImageData(0,0,e,t)}),o.width=e,n("diffCanvas",o),o.height=t,n("diffCanvas",o);var r=o.getContext("2d"),d=r.createImageData(e,t);n("numDiffPixels",i=Le(s[0].data,s[1].data,d.data,e,t,{threshold:0})),n("percentDifference",a=(i/(e*t)*100).toFixed(2)),r.putImageData(d,0,0)}const y=[[]];return e.$set=(e=>{"imagesUrl"in e&&n("imagesUrl",c=e.imagesUrl)}),{imagesUrl:c,canvases:l,width:u,loading:d,error:p,availableComponents:h,components:g,diffCanvas:o,numDiffPixels:i,percentDifference:a,msg:void 0,imgDiff:v,input_input_handler:function({image:e,each_value_1:t,i:r}){t[r]=this.value,n("imagesUrl",c)},input_change_handler:function(){g=function(e){const t=[];for(let n=0;n<e.length;n+=1)e[n].checked&&t.push(e[n].__value);return t}(y[0]),n("components",g)},canvas_binding:function(e){D[e?"unshift":"push"](()=>{n("diffCanvas",o=e)})},canvas_binding_1:function(e){D[e?"unshift":"push"](()=>{l[0]=e,n("canvases",l)})},canvas_binding_2:function(e){D[e?"unshift":"push"](()=>{l[1]=e,n("canvases",l)})},$$binding_groups:y}}return new class extends V{constructor(e){super(),q(this,e,tt,et,a,["imagesUrl"])}}({target:document.body,props:{imagesUrl:["https://raw.githubusercontent.com/plotly/plotly.js/master/test/image/baselines/14.png","https://raw.githubusercontent.com/plotly/plotly.js/master/test/image/baselines/gl2d_14.png"]}})}();
//# sourceMappingURL=bundle.js.map
